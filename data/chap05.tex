\chapter{面向三轮对话的情感识别}
\label{cha:exp_context_emo}

\section{本章引论}

情感识别是意图识别中的核心课题之一，它尝试理解人们对特定对象如人物、机构、产品、服务等的情感倾向。虽然后自然语言处理领域已经有很长一段研究历史，但截至2000年为止针对人物情感和想法的研究甚少\cite{liu2012sentiment}，而在2000年后情感识别开始受到关注，其中有以下几个的原因。首先是在各个领域出现了相关需求，商业上的需求间接导致资金支持的增加，基于情感识别的应用也因此得以发展，这些都为情感识别带来了研究动力。其次是数据的支持，在互联网出现前数据的收集普遍要透过人工完成，而在2000年后互联网逐渐普及，社交媒体的使用使得可供分析的数据远超于以前，数据的收集也更加便捷，这为研究提供了充足的数据基础。

面向文本的情感识别存在一些先天的难点。首先是一词多义，譬如在中文里“算账”有计算法资金收支或结余的意思，有引伸义为吃亏之后与人争执较量，又譬如在英文里“suck”有吸取或吸入物的意思，而在俚语中则有使人厌恶的意思，以上两个例子都是一个词可以在不同场景下表现中性和负性两种情感，这在情感识别中会导致混淆。其次是明显情感极性的词和发言者的情感无关，譬如“我想要挑一台好的电脑”，这里“好”有明显正向的词，但和发言者的情感无关，原句的情感应偏向于中性。第三是不带情感但包含情感极性的词组，譬如“打印机又卡纸了”的字面意思是偏中性的，但根据具体场景的经验，我们能猜想到发言者可能处于不耐烦的状态，间接表达的是负向的情感。最后是前面提到的反讽的修辞使用，透过表面上表现为正性的语句表达负性的情感。特别地，这些情况即使由人工识别也有可能会被混淆。

为了缓解在句子内部存在二义的问题，一些研究考虑引入上下文来提供辅助信息。譬如Zahiri和Choi\cite{Zahiri2017Emotion}在研究电影剧剧本情感识别时，就引入了前后的发言作为上下文信息来建模。而国际比赛SemEval-2019的任务三\cite{SemEval2019Task3}则是旨在促进引入上下文背景的文本情感识别研究，比赛要求参赛者开发一个情感识别系统，对三轮对话中最后一轮发言表达的情感进行分类，给定的四个情感类别包括：开心、悲伤、愤怒、其他。本章节中我们将基于SemEval-2019的任务三进行实验，采用比赛组织者提供的训练数据和测试数据，并透过和其他参赛系统进行比较来评估我们提出的框架的性能。

本章的内容安排如下。在章节\ref{sec:exp_context_emo_format}中，我们会基于章节\ref{sec:global_problem_analysis}首先给出当前问题的形式化表示。在章节\ref{sec:exp_context_emo_data}中我们再对具体实验数据进行观察，分析给定数据集中各个情感类别的分布情况以及其文本特性。在章节\ref{sec:exp_context_emo_framework}中，我们会基于章节\ref{sec:global_framework}的框架给出我们对当前问题的系统框架。最后在章节\ref{sec:exp_context_emo_exp}给出实验的细节，以及对实验结果进行分析。

\section{形式化表示}
\label{sec:exp_context_emo_format}

在本章中，我们要研究三轮对话的情感识别。给定一个情感类别集合$C$，对于一个三轮对话的集合$S$，其中任意一个样本$s$可以表示为一个三元组$<t^1, t^2, t^3>$对应三段文本，其中最后一轮发言$t^3$是被识別情感的主体，上下文$b=<t^1, t^2>$是$t^3$的背景信息。假设$t^3$在背景$b$下属于唯一一种情感倾向$c \in C$。又给定一个词集合$V$，对任意一輪的文本$t^j, j=1,2,3$，经过文本预处理后可以表示为一个长度为$L^j$的词序列 $v^j = <v^j_1, v^j_2, ..., v^j_{L^j}>, v^j_i \in V, i \in [1, L^j]$。那么我们的目标是找出一个映射关系$F_C$，使得$c=F_C(v^3, <v^1, v^2>)$。

\section{数据观察}
\label{sec:exp_context_emo_data}

pass

\section{框架设计}
\label{sec:exp_context_emo_framework}

pass

\section{实验与分析}
\label{sec:exp_context_emo_exp}

pass

\subsection{数据预处理}

pass

\subsection{实验设置}

pass

\subsection{模型训练}

pass

\subsection{结果与分析}

pass

\section{本章小结}

pass

